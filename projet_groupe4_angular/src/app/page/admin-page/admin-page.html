<h1>Interface d'administrateur</h1>
<div id="admin_bouton_section" class="block_white">
  <button
    class="btn btn_admin"
    [class.active]="currentSection === 'dashboard'"
    data-table="bdd_dashboard"
    (click)="currentSection = 'dashboard'"
  >
    Dashboard
  </button>
  <button class="btn btn_admin"  [class.active]="currentSection === 'jeu'" data-table="bdd_jeux" (click)="currentSection = 'jeu'">Jeux</button>
  <button class="btn btn_admin" [class.active]="currentSection === 'table'" data-table="bdd_table" (click)="currentSection = 'table'">
    Tables
  </button>
  <button class="btn btn_admin" [class.active]="currentSection === 'employe'" data-table="bdd_employe" (click)="currentSection = 'employe'">
    Employ√©s
  </button>
  <button class="btn btn_admin" [class.active]="currentSection === 'badge'" data-table="bdd_badge" (click)="currentSection = 'badge'">
    Badges
  </button>
</div>


<div id="admin_table_section" class="block_white">
  <div *ngIf="currentSection === 'dashboard'">
    <div class="dashboard_card">
      <h3>Jeux</h3>
      <p class="dashboard_value" id="count_jeux">{{ data['jeux']?.length }}</p>
    </div>
    <div class="dashboard_card">
      <h3>Employ√©s</h3>
      <p class="dashboard_value" id="count_employes">{{ data['employes']?.length }}</p>
    </div>
    <div class="dashboard_card">
      <h3>Tables</h3>
      <p class="dashboard_value" id="count_tables">{{ data['tables']?.length }}</p>
    </div>
    <div class="dashboard_card">
      <h3>Badges</h3>
      <p class="dashboard_value" id="count_badges">{{ data['badges']?.length }}</p>
    </div>
    <div class="dashboard_card">
      <h3>R√©servations du jour</h3>
      <p class="dashboard_value" id="count_reservations">3</p>
    </div>
  </div>

  <div *ngIf="currentSection === 'jeu'">
    <section id="bdd_recherche_ajout">
            <input
              type="text"
              id="recherche_bdd"
              class="barre_recherche"
              placeholder="üîç Rechercher..."
              [formControl]="searchControls['jeux']"
            
            />
            <button class="btn_crud btn_ajouter" title="Ajouter" (click)="ajouter('jeux')">‚ûï</button>
      </section>
    <table matSort (matSortChange)="sortData('jeux', $event)">
      <thead>
        <tr>
          <th data-type="number" mat-sort-header="id">id</th>
          <th data-type="text" mat-sort-header="nom">Nom du jeu</th>
          <th data-type="number" mat-sort-header="ageMinimum">Age minimum</th>
          <th data-type="checkbox" mat-sort-header="besoinGameMaster">Besoin d'un GameMaster</th>
          <th data-type="number" mat-sort-header="duree">Dur√©e</th>
          <th data-type="text" mat-sort-header="imgURL">Image</th>
          <th data-type="number" mat-sort-header="nbExemplaire">Nombres d'exemplaires</th>
          <th data-type="number" mat-sort-header="nbJoueurMinimum">Nombres de joueurs minimum</th>
          <th data-type="number" mat-sort-header="nbJoueurMaximum">Nombres de joueurs maximum</th>
          <th
            data-type="liste" mat-sort-header="categoriesJeux"
            data-options="STRATEGIE,COOPERATIF,ENFANT,AMBIANCE,RAPIDITE,REFLEXION"
          >
            Cat√©gories
          </th>
          <th data-type="liste" mat-sort-header="typesJeux" data-options="PLATEAU,CARTE,DES,ROLE,AMBIANCE">Types</th>
          <th data-type="number" mat-sort-header="note">Note</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let jeu of filteredItems['jeux']">
          <td>{{ jeu.id }}</td>
          <td>{{ jeu.nom }}</td>
          <td>{{ jeu.ageMinimum }}</td>
          <td>{{ jeu.besoinGameMaster }}</td>
          <td>{{ jeu.duree }}</td>
          <td>{{ jeu.imgURL }}</td>
          <td>{{ jeu.nbExemplaire }}</td>
          <td>{{ jeu.nbJoueurMinimum }}</td>
          <td>{{ jeu.nbJoueurMaximum }}</td>
          <td>{{ jeu.categoriesJeux?.join(', ') }}</td>
          <td>{{ jeu.typesJeux?.join(', ') }}</td>
          <td>{{ jeu.note }}</td>
          <td>
            <button class="btn_crud btn_modifier" title="Modifier" (click)="modifier('jeux', jeu)">
              ‚úèÔ∏è
            </button>
            <button class="btn_crud btn_supprimer" title="Supprimer" (click)="supprimer('jeux', jeu)">
              üóëÔ∏è
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="currentSection === 'table'"></div>

  <div *ngIf="currentSection === 'employe'"></div>

  <div *ngIf="currentSection === 'badge'"></div>
</div> 