<div id="connexion_main">
  <div class="connexion_card bordered">
    <span class="card_title">Connexion</span>
    @if (loginError) {
    <div>Nom d'utilisateur ou mot de passe incorrect</div>
    }
    <form (ngSubmit)="connecter()" [formGroup]="userForm">
      <div class="form-field">
        <label for="email">Adresse e-mail</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="exemple@mail.com"
          formControlName="username"
          required
        />
        <span *ngIf="usernameCtrl?.hasError('required')">Le nom d'utilisateur est obligatoire</span>
      </div>
      <br />
      <div class="form-field">
        <label for="password">Mot de passe</label>
        <div class="input-with-icon">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            id="password"
            name="password"
            placeholder="Votre mot de passe"
            formControlName="password"
            required
          />
          <i
            class="pi"
            [ngClass]="passwordVisible ? 'pi-eye-slash' : 'pi-eye'"
            (click)="togglePasswordVisibility()"
          ></i>
        </div>

        <span *ngIf="passwordCtrl?.hasError('required')">Le mot de passe est obligatoire</span>
      </div>
      <br />
      <input type="submit" value="Me connecter" class="btn" [disabled]="userForm.invalid" />
    </form>
    <p>
      Pas encore inscrit ? <a routerLink="/inscription" id="switchToInscription">Inscription</a>
    </p>
  </div>

  <!-- faire la section Inscription -->
</div>
